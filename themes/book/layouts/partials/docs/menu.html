<div class="navbar-collapse collapse" id="navigation">
	<ul class="nav navbar-nav navbar-right">
	  {{ range .Site.Menus.main }}
	  <li class="dropdown">
		{{ if .HasChildren }}
		  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{ .Name }} <span class="caret"></span></a>
		<ul class="dropdown-menu">
		  {{ range .Children }}
			<li><a href="{{ .URL }}">{{ .Name }}</a></li>
		  {{ end }}
		</ul>
		{{ else }}
		<a href="{{ .URL }}">{{ .Name }}</a>
		{{ end  }}
	  </li>
	  {{ end }}
	</ul>
</div>
<!--/.nav-collapse -->


<!-- Restore menu position as soon as possible to avoid flickering -->
<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>
